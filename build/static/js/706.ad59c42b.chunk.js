"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[706],{9706:function(n,e,i){i.r(e),i.d(e,{default:function(){return hn}});var o=i(9439),t=i(2791),r=i(6871),l=i(7468),a=i(1889),s=i(3449),c=i(2851),d=i(5542),u=i(8105),v=i(2455),h=i(4796),f=i(7853),x=i(8354),p=i(5566),m=i(964),g=i(184),j=function(n){var e,i=n.data,o=n.handleUpdatePictureModalClick,t=void 0===o?null:o;return(0,g.jsx)(a.ZP,{item:!0,sx:{width:"33ch"},children:(0,g.jsx)(x.Wf,{onClick:t,children:(0,g.jsx)(m.Z,{src:"".concat(null===i||void 0===i||null===(e=i.profile)||void 0===e?void 0:e.profile_pic)})})})},b=i(890),w=i(4942),y=i(3366),Z=i(7462),k=i(8182),C=i(767),S=i(8529),V=i(2065),M=i(4036),F=i(7630),z=i(3736),P=i(3031),_=i(2071),O=i(5159);function R(n){return(0,O.Z)("MuiLink",n)}var H=(0,i(208).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),I=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],L={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},D=(0,F.ZP)(b.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(n,e){var i=n.ownerState;return[e.root,e["underline".concat((0,M.Z)(i.underline))],"button"===i.component&&e.button]}})((function(n){var e=n.theme,i=n.ownerState,o=(0,S.D)(e,"palette.".concat(function(n){return L[n]||n}(i.color)))||i.color;return(0,Z.Z)({},"none"===i.underline&&{textDecoration:"none"},"hover"===i.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===i.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,V.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===i.component&&(0,w.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(H.focusVisible),{outline:"auto"}))})),A=t.forwardRef((function(n,e){var i=(0,z.Z)({props:n,name:"MuiLink"}),r=i.className,l=i.color,a=void 0===l?"primary":l,s=i.component,c=void 0===s?"a":s,d=i.onBlur,u=i.onFocus,v=i.TypographyClasses,h=i.underline,f=void 0===h?"always":h,x=i.variant,p=void 0===x?"inherit":x,m=(0,y.Z)(i,I),j=(0,P.Z)(),b=j.isFocusVisibleRef,w=j.onBlur,S=j.onFocus,V=j.ref,F=t.useState(!1),O=(0,o.Z)(F,2),H=O[0],L=O[1],A=(0,_.Z)(e,V),T=(0,Z.Z)({},i,{color:a,component:c,focusVisible:H,underline:f,variant:p}),U=function(n){var e=n.classes,i=n.component,o=n.focusVisible,t=n.underline,r={root:["root","underline".concat((0,M.Z)(t)),"button"===i&&"button",o&&"focusVisible"]};return(0,C.Z)(r,R,e)}(T);return(0,g.jsx)(D,(0,Z.Z)({className:(0,k.Z)(U.root,r),classes:v,color:a,component:c,onBlur:function(n){w(n),!1===b.current&&L(!1),d&&d(n)},onFocus:function(n){S(n),!0===b.current&&L(!0),u&&u(n)},ref:A,ownerState:T,variant:p},m))})),T=function(n){var e,i,o,t,r,l=n.data;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(b.Z,{variant:"h6",component:"div",sx:{spacing:1,"&.MuiTypography-root":{fontFamily:"Quicksand"}},children:[null===l||void 0===l||null===(e=l.profile)||void 0===e?void 0:e.first_name," ",null===l||void 0===l||null===(i=l.profile)||void 0===i?void 0:i.last_name,(0,g.jsx)(b.Z,{variant:"body1",sx:{spacing:1,"&.MuiTypography-root":{fontFamily:"Quicksand"}},children:null===l||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.bio})]}),(0,g.jsx)(A,{sx:{fontFamily:"Quicksand",lineHeight:"4ch",fontSize:"2ch"},href:null===l||void 0===l||null===(t=l.profile)||void 0===t?void 0:t.website,variant:"body2",children:null===l||void 0===l||null===(r=l.profile)||void 0===r?void 0:r.website})]})},U=i(6984),B=i(7371),W=i(1933),N=function(n){var e,i,o,t,r,l,s=n.data,c=n.handleFollowModalClick,d=(0,W.useQueryClient)(),u=(0,v.Qi)((function(){d.invalidateQueries("useProfileDetail")})).mutate,h=(0,v.o1)((function(){d.invalidateQueries("useProfileDetail")})).mutate;return(0,g.jsx)(x.FC,{sx:{width:"100%"},children:(0,g.jsxs)(a.ZP,{container:!0,rowSpacing:5,columnSpacing:{xs:1,sm:2,md:3},sx:{minWidth:275,backgroundColor:"transference",justifyContent:"center"},children:[(0,g.jsx)(j,{data:s}),(0,g.jsxs)(a.ZP,{item:!0,sx:{mt:"5px",width:"55ch"},children:[(0,g.jsxs)(U.U0,{variant:"h5",component:"div",children:[null===s||void 0===s||null===(e=s.profile)||void 0===e?void 0:e.first_name," ",null===s||void 0===s||null===(i=s.profile)||void 0===i?void 0:i.last_name,null!==s&&void 0!==s&&null!==(o=s.profile)&&void 0!==o&&o.follow_status?(0,g.jsxs)(p.SR,{"aria-label":"Following",variant:"outlined",onClick:function(){return u({object_id:s.id})},children:[(0,g.jsx)(B.Z,{sx:{width:"0.7em",height:"0.7em",marginRight:"1ch"}}),"Following"]}):(0,g.jsx)(p.Uv,{"aria-label":"Follow",variant:"outlined",onClick:function(){return h({object_id:s.id})},children:"Follow"})]}),(0,g.jsxs)(U.U0,{variant:"subtitle1",component:"div",children:[null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.post_count," posts",(0,g.jsxs)(p.HX,{onClick:function(){return c("other","follower")},children:[null===s||void 0===s||null===(r=s.profile)||void 0===r?void 0:r.followers_count," followers"]}),(0,g.jsxs)(p.HX,{onClick:function(){return c("other","following")},children:[null===s||void 0===s||null===(l=s.profile)||void 0===l?void 0:l.following_count," following"]})]}),(0,g.jsx)(T,{data:s})]})]})})},E=i(1489),Q=i(792),G=i(2003),X=i(2926),q=i(4554),Y=function(n){var e=n.text,i=n.handleModalClick;return(0,g.jsx)(x.Iu,{children:(0,g.jsxs)(x.K9,{children:[(0,g.jsx)(q.Z,{sx:{flexGrow:2}}),(0,g.jsx)(b.Z,{sx:{textTransform:"capitalize"},id:"transition-modal-title",variant:"h6",component:"h2",color:"inherit",children:e}),(0,g.jsx)(q.Z,{sx:{flexGrow:1}}),(0,g.jsx)(d.Z,{variant:"text",sx:{pr:3},onClick:i,children:"x"})]})})},J=function(n){var e=n.open,i=n.handleModalClick,o=n.data,t=n.isSuccess,r=n.isLoading,l=n.isUser,a=n.followState;return(0,g.jsx)("div",{children:(0,g.jsx)(Q.Z,{open:e,onClose:i,closeAfterTransition:!0,BackdropComponent:E.Z,BackdropProps:{timeout:500},children:(0,g.jsx)(G.Z,{in:e,children:(0,g.jsxs)(x.dq,{children:[(0,g.jsx)(Y,{text:a,handleModalClick:i}),(0,g.jsxs)(X.O,{sx:{"& .MuiList-root":{alignItems:"center"},"& .MuiListItem-root":{alignItems:"center"}},children:[r&&(0,g.jsx)("p",{children:"loading..."}),t&&o.map((function(n){return(0,g.jsx)(X.lt,{control:a,follow:n,isUser:l,handleModalClick:i},n.id)}))]})]})})})})},K=i(2537),$=i(5641),nn=i(4278),en=i(1932),on=i(5780),tn=i(4012),rn=i(9502),ln=(0,nn.Z)({indicator:{top:"0px",height:.5,backgroundColor:f.Py}}),an=function(n){var e=n.handleChange,i=ln();return(0,g.jsxs)(rn.Z,{classes:{indicator:i.indicator},onChange:e,"aria-label":"Profile page tabs",children:[(0,g.jsx)($.y,{control:"icon",value:"post",label:"POST",setValue:e,icon:(0,g.jsx)(tn.Z,{})}),(0,g.jsx)($.y,{control:"icon",value:"save",label:"SAVED",setValue:e,icon:(0,g.jsx)(en.Z,{})}),(0,g.jsx)($.y,{control:"icon",value:"tagged",label:"TAGGED",setValue:e,icon:(0,g.jsx)(on.Z,{})})]})},sn=i(8022),cn=i(3400),dn=i(6120),un=i(1086),vn=function(n){var e,i,l,s=n.data,c=n.handleFollowModalClick,d=(0,r.s0)(),u=(0,t.useState)(!1),v=(0,o.Z)(u,2),h=v[0],f=v[1],m=function(){f(!h)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(un._,{open:h,handleModalClick:m}),(0,g.jsx)(x.FC,{sx:{width:"100%"},children:(0,g.jsxs)(a.ZP,{container:!0,rowSpacing:5,columnSpacing:{xs:1,sm:2,md:3},sx:{minWidth:275,backgroundColor:"transference",justifyContent:"center"},children:[(0,g.jsx)(j,{data:s,handleUpdatePictureModalClick:m}),(0,g.jsxs)(a.ZP,{item:!0,sx:{mt:"5px",width:"55ch"},children:[(0,g.jsxs)(U.U0,{variant:"h5",component:"div",children:[null===s||void 0===s?void 0:s.username,(0,g.jsx)(p.SR,{variant:"outlined",onClick:function(){return d("/accounts/edit")},children:"Edit profile"}),(0,g.jsx)(cn.Z,{"aria-label":"settings",onClick:function(){return console.log("Settings click")},children:(0,g.jsx)(dn.Z,{})})]}),(0,g.jsxs)(U.U0,{variant:"subtitle1",component:"div",children:[null===s||void 0===s||null===(e=s.profile)||void 0===e?void 0:e.post_count," posts",(0,g.jsxs)(p.HX,{onClick:function(){return c("user","follower")},children:[null===s||void 0===s||null===(i=s.profile)||void 0===i?void 0:i.followers_count," followers"]}),(0,g.jsxs)(p.HX,{onClick:function(){return c("user","following")},children:[null===s||void 0===s||null===(l=s.profile)||void 0===l?void 0:l.following_count," following"]})]}),(0,g.jsx)(T,{data:s})]})]})})]})},hn=function(){var n,e=(0,r.UO)().id,i=(0,l.sJ)(h.gy),p=(0,u.YD)(),m=p.ref,j=p.inView,b=(0,t.useState)(null),w=(0,o.Z)(b,2),y=w[0],Z=w[1],k=(0,t.useState)(!1),C=(0,o.Z)(k,2),S=C[0],V=C[1],M=(0,t.useState)(!1),F=(0,o.Z)(M,2),z=F[0],P=F[1],_=(0,t.useState)(null),O=(0,o.Z)(_,2),R=O[0],H=O[1],I=(0,t.useState)(null),L=(0,o.Z)(I,2),D=L[0],A=L[1],T=(0,t.useState)("post"),U=(0,o.Z)(T,2),B=U[0],W=U[1],E=function(n){var e=n.post;Z(null===e||void 0===e?void 0:e.id),V(!S)},Q=function(n,e){H("user"===n),z||A(e),P(!z)};(0,t.useEffect)((function(){j&&Y()}),[j]);var G=(0,v.FR)((function(n,e){var i;return null!==(i=e[e.length-1].data.next)&&void 0!==i?i:void 0}),e),q=G.data,Y=G.fetchNextPage,$=G.isLoading,nn=G.isFetching,en=G.isFetchingNextPage,on=G.hasNextPage,tn=(0,v.Gb)(e),rn=tn.isSuccess,ln=tn.data,cn=tn.isLoading,dn=(0,v.jv)(e),un=dn.isSuccess,hn=dn.isLoading,fn=dn.data,xn=(dn.refetch,(0,v.fw)(e)),pn=xn.isSuccess,mn=xn.isLoading,gn=xn.data;xn.refetch;return(0,g.jsxs)(g.Fragment,{children:[($||nn||cn)&&(0,g.jsx)(K.z,{}),(0,g.jsx)(sn.P,{open:S,handleModalClick:E,post:y}),(0,g.jsx)(J,{open:z,handleModalClick:Q,data:"follower"===D?null===fn||void 0===fn?void 0:fn.data:null===gn||void 0===gn?void 0:gn.data,isSuccess:"follower"===D?un:pn,isLoading:"follower"===D?hn:mn,followState:D,isUser:R}),(0,g.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"baseline",sx:{maxWidth:"125ch"},children:[(0,g.jsx)(a.ZP,{item:!0,sx:{display:"flex",height:"20ch",maxWidth:"125ch",mb:12,mx:"auto"},children:rn&&(null===ln||void 0===ln||null===(n=ln.data)||void 0===n?void 0:n.id)===i.profileId?(0,g.jsx)(vn,{data:null===ln||void 0===ln?void 0:ln.data,handleFollowModalClick:Q}):(0,g.jsx)(N,{data:null===ln||void 0===ln?void 0:ln.data,handleFollowModalClick:Q})}),(0,g.jsx)(a.ZP,{item:!0,sx:{borderTop:"groove",borderColor:f.OH,borderBlockWidth:"1px",width:"100%"},children:(0,g.jsxs)(s.ZP,{value:B,children:[(0,g.jsx)(x.Sx,{sx:{"& .MuiTabs-flexContainer":{justifyContent:"space-around"}},children:(0,g.jsx)(an,{handleChange:function(n){W(n)}})}),(0,g.jsxs)(c.Z,{value:"post",children:[null===q||void 0===q?void 0:q.pages.map((function(n,e){var i;return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(X.bj,{group:null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,handleModalClick:E})},e)})),(0,g.jsx)("div",{children:(0,g.jsx)(d.Z,{sx:{display:"none"},ref:m,onClick:function(){return Y()},disabled:!on||en})})]}),(0,g.jsx)(c.Z,{value:"save",children:"saved items"}),(0,g.jsx)(c.Z,{value:"tagged",children:"tagged"})]})})]})]})}},5780:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 9c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6 10H6v-1.53c0-2.5 3.97-3.58 6-3.58s6 1.08 6 3.58V18zm-9.69-2h7.38c-.69-.56-2.38-1.12-3.69-1.12s-3.01.56-3.69 1.12z"}),"AccountBoxOutlined");e.Z=l},4012:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{fillRule:"evenodd",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridView");e.Z=l},6120:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");e.Z=l},1932:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"TurnedInNot");e.Z=l},8105:function(n,e,i){i.d(e,{YD:function(){return f}});var o=i(2791);function t(){return t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.apply(this,arguments)}function r(n,e){return r=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},r(n,e)}var l=new Map,a=new WeakMap,s=0,c=void 0;function d(n){return Object.keys(n).sort().filter((function(e){return void 0!==n[e]})).map((function(e){return e+"_"+("root"===e?(i=n.root)?(a.has(i)||(s+=1,a.set(i,s.toString())),a.get(i)):"0":n[e]);var i})).toString()}function u(n,e,i,o){if(void 0===i&&(i={}),void 0===o&&(o=c),"undefined"===typeof window.IntersectionObserver&&void 0!==o){var t=n.getBoundingClientRect();return e(o,{isIntersecting:o,target:n,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:t,intersectionRect:t,rootBounds:t}),function(){}}var r=function(n){var e=d(n),i=l.get(e);if(!i){var o,t=new Map,r=new IntersectionObserver((function(e){e.forEach((function(e){var i,r=e.isIntersecting&&o.some((function(n){return e.intersectionRatio>=n}));n.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=r),null==(i=t.get(e.target))||i.forEach((function(n){n(r,e)}))}))}),n);o=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),i={id:e,observer:r,elements:t},l.set(e,i)}return i}(i),a=r.id,s=r.observer,u=r.elements,v=u.get(n)||[];return u.has(n)||u.set(n,v),v.push(e),s.observe(n),function(){v.splice(v.indexOf(e),1),0===v.length&&(u.delete(n),s.unobserve(n)),0===u.size&&(s.disconnect(),l.delete(a))}}var v=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function h(n){return"function"!==typeof n.children}o.Component;function f(n){var e=void 0===n?{}:n,i=e.threshold,t=e.delay,r=e.trackVisibility,l=e.rootMargin,a=e.root,s=e.triggerOnce,c=e.skip,d=e.initialInView,v=e.fallbackInView,h=e.onChange,f=o.useRef(),x=o.useRef(),p=o.useState({inView:!!d}),m=p[0],g=p[1];x.current=h;var j=o.useCallback((function(n){void 0!==f.current&&(f.current(),f.current=void 0),c||n&&(f.current=u(n,(function(n,e){g({inView:n,entry:e}),x.current&&x.current(n,e),e.isIntersecting&&s&&f.current&&(f.current(),f.current=void 0)}),{root:a,rootMargin:l,threshold:i,trackVisibility:r,delay:t},v))}),[Array.isArray(i)?i.toString():i,a,l,s,c,r,v,t]);o.useEffect((function(){f.current||!m.entry||s||c||g({inView:!!d})}));var b=[j,m.inView,m.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}}}]);
//# sourceMappingURL=706.ad59c42b.chunk.js.map