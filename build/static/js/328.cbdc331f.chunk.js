"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[328],{8328:function(n,t,e){e.r(t);var i=e(1413),r=e(9439),o=e(2791),c=e(2763),s=e(4554),a=e(5303),u=e(7237),l=e(5542),d=e(8105),f=e(9467),h=e(8354),v=e(8022),g=e(5893),p=e(2537),y=e(184);function x(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{src:"".concat(n,"?w=").concat(t*i,"&h=").concat(t*e,"&fit=crop&auto=format"),srcSet:"".concat(n,"?w=").concat(t*i,"&h=").concat(t*e,"&fit=crop&auto=format&dpr=2 2x")}}t.default=function(){var n=(0,d.YD)(),t=n.ref,e=n.inView,b=(0,o.useState)(null),m=(0,r.Z)(b,2),w=m[0],k=m[1],j=(0,o.useState)(!1),V=(0,r.Z)(j,2),C=V[0],I=V[1];(0,o.useEffect)((function(){e&&Z()}),[e]);var O=(0,f.rc)((function(n,t){var e;return null!==(e=t[t.length-1].data.next)&&void 0!==e?e:void 0})),R=O.data,Z=O.fetchNextPage,_=O.isLoading,M=O.isFetching,S=O.isFetchingNextPage,P=O.hasNextPage,A=function(n){var t=n.post;k(null===t||void 0===t?void 0:t.id),I(!C)};return(0,y.jsxs)(y.Fragment,{children:[(_||M||S)&&(0,y.jsx)(p.z,{}),(0,y.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"20ch",width:"125ch",mb:12},children:[(0,y.jsx)(v.P,{open:C,handleModalClick:A,post:w}),null===R||void 0===R?void 0:R.pages.map((function(n,t){var e;return(0,y.jsx)(o.Fragment,{children:(0,y.jsx)(c.Z,{sx:{width:"100%",overflowY:"unset"},cols:3,gap:24,variant:"quilted",children:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.results.map((function(n,t){return(0,y.jsxs)(g.II,{cols:t%12===0?2:1,rows:t%12===0?2:1,onClick:function(){A({post:n})},children:[(0,y.jsx)("img",(0,i.Z)((0,i.Z)({},x(null===n||void 0===n?void 0:n.image,121,t%12===0?2:1,t%12===0?2:1)),{},{sx:{display:"block",width:"100%",height:"auto%"},alt:null===n||void 0===n?void 0:n.title,loading:"lazy"})),(0,y.jsxs)(g.kV,{container:!0,children:[(0,y.jsxs)(h.JH,{component:"span",children:[(0,y.jsx)(u.Z,{sx:{marginRight:"0.5ch"}})," ",n.like_count]}),(0,y.jsxs)(h.JH,{component:"span",children:[(0,y.jsx)(a.Z,{sx:{marginRight:"0.5ch"}})," ",n.comment_count]})]})]},null===n||void 0===n?void 0:n.image)}))})},t)})),(0,y.jsx)("div",{children:(0,y.jsx)(l.Z,{sx:{display:"none"},ref:t,onClick:function(){return Z()},disabled:!P||S})})]})]})}},8105:function(n,t,e){e.d(t,{YD:function(){return v}});var i=e(2791);function r(){return r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},r.apply(this,arguments)}function o(n,t){return o=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},o(n,t)}var c=new Map,s=new WeakMap,a=0,u=void 0;function l(n){return Object.keys(n).sort().filter((function(t){return void 0!==n[t]})).map((function(t){return t+"_"+("root"===t?(e=n.root)?(s.has(e)||(a+=1,s.set(e,a.toString())),s.get(e)):"0":n[t]);var e})).toString()}function d(n,t,e,i){if(void 0===e&&(e={}),void 0===i&&(i=u),"undefined"===typeof window.IntersectionObserver&&void 0!==i){var r=n.getBoundingClientRect();return t(i,{isIntersecting:i,target:n,intersectionRatio:"number"===typeof e.threshold?e.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var o=function(n){var t=l(n),e=c.get(t);if(!e){var i,r=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var e,o=t.isIntersecting&&i.some((function(n){return t.intersectionRatio>=n}));n.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=o),null==(e=r.get(t.target))||e.forEach((function(n){n(o,t)}))}))}),n);i=o.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),e={id:t,observer:o,elements:r},c.set(t,e)}return e}(e),s=o.id,a=o.observer,d=o.elements,f=d.get(n)||[];return d.has(n)||d.set(n,f),f.push(t),a.observe(n),function(){f.splice(f.indexOf(t),1),0===f.length&&(d.delete(n),a.unobserve(n)),0===d.size&&(a.disconnect(),c.delete(s))}}var f=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function h(n){return"function"!==typeof n.children}i.Component;function v(n){var t=void 0===n?{}:n,e=t.threshold,r=t.delay,o=t.trackVisibility,c=t.rootMargin,s=t.root,a=t.triggerOnce,u=t.skip,l=t.initialInView,f=t.fallbackInView,h=t.onChange,v=i.useRef(),g=i.useRef(),p=i.useState({inView:!!l}),y=p[0],x=p[1];g.current=h;var b=i.useCallback((function(n){void 0!==v.current&&(v.current(),v.current=void 0),u||n&&(v.current=d(n,(function(n,t){x({inView:n,entry:t}),g.current&&g.current(n,t),t.isIntersecting&&a&&v.current&&(v.current(),v.current=void 0)}),{root:s,rootMargin:c,threshold:e,trackVisibility:o,delay:r},f))}),[Array.isArray(e)?e.toString():e,s,c,a,u,o,f,r]);i.useEffect((function(){v.current||!y.entry||a||u||x({inView:!!l})}));var m=[b,y.inView,y.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}}}]);
//# sourceMappingURL=328.cbdc331f.chunk.js.map