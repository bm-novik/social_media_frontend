"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[798],{6798:function(n,e,i){i.r(e),i.d(e,{default:function(){return cn}});var o=i(9439),t=i(2791),r=i(6871),l=i(7468),a=i(1889),c=i(3449),s=i(2851),d=i(5542),u=i(8105),v=i(2455),h=i(4796),f=i(7853),p=i(8354),x=i(5566),g=i(964),m=i(184),j=function(n){var e,i=n.data,o=n.handleUpdatePictureModalClick,t=void 0===o?null:o;return(0,m.jsx)(a.ZP,{item:!0,sx:{width:"33ch"},children:(0,m.jsx)(p.Wf,{onClick:t,children:(0,m.jsx)(g.Z,{src:"".concat(null===i||void 0===i||null===(e=i.profile)||void 0===e?void 0:e.profile_pic)})})})},b=i(890),w=i(4942),y=i(3366),Z=i(7462),k=i(8182),C=i(767),V=i(8529),S=i(2065),M=i(4036),F=i(7630),z=i(3736),P=i(3031),_=i(2071),R=i(5159);function H(n){return(0,R.Z)("MuiLink",n)}var O=(0,i(208).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),D=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],I={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},A=(0,F.ZP)(b.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(n,e){var i=n.ownerState;return[e.root,e["underline".concat((0,M.Z)(i.underline))],"button"===i.component&&e.button]}})((function(n){var e=n.theme,i=n.ownerState,o=(0,V.D)(e,"palette.".concat(function(n){return I[n]||n}(i.color)))||i.color;return(0,Z.Z)({},"none"===i.underline&&{textDecoration:"none"},"hover"===i.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===i.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,S.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===i.component&&(0,w.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(O.focusVisible),{outline:"auto"}))})),L=t.forwardRef((function(n,e){var i=(0,z.Z)({props:n,name:"MuiLink"}),r=i.className,l=i.color,a=void 0===l?"primary":l,c=i.component,s=void 0===c?"a":c,d=i.onBlur,u=i.onFocus,v=i.TypographyClasses,h=i.underline,f=void 0===h?"always":h,p=i.variant,x=void 0===p?"inherit":p,g=(0,y.Z)(i,D),j=(0,P.Z)(),b=j.isFocusVisibleRef,w=j.onBlur,V=j.onFocus,S=j.ref,F=t.useState(!1),R=(0,o.Z)(F,2),O=R[0],I=R[1],L=(0,_.Z)(e,S),T=(0,Z.Z)({},i,{color:a,component:s,focusVisible:O,underline:f,variant:x}),U=function(n){var e=n.classes,i=n.component,o=n.focusVisible,t=n.underline,r={root:["root","underline".concat((0,M.Z)(t)),"button"===i&&"button",o&&"focusVisible"]};return(0,C.Z)(r,H,e)}(T);return(0,m.jsx)(A,(0,Z.Z)({className:(0,k.Z)(U.root,r),classes:v,color:a,component:s,onBlur:function(n){w(n),!1===b.current&&I(!1),d&&d(n)},onFocus:function(n){V(n),!0===b.current&&I(!0),u&&u(n)},ref:L,ownerState:T,variant:x},g))})),T=function(n){var e,i,o,t,r,l=n.data;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(b.Z,{variant:"h6",component:"div",sx:{spacing:1,"&.MuiTypography-root":{fontFamily:"Quicksand"}},children:[null===l||void 0===l||null===(e=l.profile)||void 0===e?void 0:e.first_name," ",null===l||void 0===l||null===(i=l.profile)||void 0===i?void 0:i.last_name,(0,m.jsx)(b.Z,{variant:"body1",sx:{spacing:1,"&.MuiTypography-root":{fontFamily:"Quicksand"}},children:null===l||void 0===l||null===(o=l.profile)||void 0===o?void 0:o.bio})]}),(0,m.jsx)(L,{sx:{fontFamily:"Quicksand",lineHeight:"4ch",fontSize:"2ch"},href:null===l||void 0===l||null===(t=l.profile)||void 0===t?void 0:t.website,variant:"body2",children:null===l||void 0===l||null===(r=l.profile)||void 0===r?void 0:r.website})]})},U=i(6984),W=i(7371),B=i(1933),N=function(n){var e,i,o,t,r,l,c=n.data,s=n.handleFollowModalClick,d=(0,B.useQueryClient)(),u=(0,v.Qi)((function(){d.invalidateQueries("useProfileDetail")})).mutate,h=(0,v.o1)((function(){d.invalidateQueries("useProfileDetail")})).mutate;return(0,m.jsx)(p.FC,{sx:{width:"100%"},children:(0,m.jsxs)(a.ZP,{container:!0,rowSpacing:5,columnSpacing:{xs:1,sm:2,md:3},sx:{minWidth:275,backgroundColor:"transference",justifyContent:"center"},children:[(0,m.jsx)(j,{data:c}),(0,m.jsxs)(a.ZP,{item:!0,sx:{mt:"5px",width:"55ch"},children:[(0,m.jsxs)(U.U0,{variant:"h5",component:"div",children:[null===c||void 0===c||null===(e=c.profile)||void 0===e?void 0:e.first_name," ",null===c||void 0===c||null===(i=c.profile)||void 0===i?void 0:i.last_name,null!==c&&void 0!==c&&null!==(o=c.profile)&&void 0!==o&&o.follow_status?(0,m.jsxs)(x.SR,{"aria-label":"Following",variant:"outlined",onClick:function(){return u({object_id:c.id})},children:[(0,m.jsx)(W.Z,{sx:{width:"0.7em",height:"0.7em",marginRight:"1ch"}}),"Following"]}):(0,m.jsx)(x.Uv,{"aria-label":"Follow",variant:"outlined",onClick:function(){return h({object_id:c.id})},children:"Follow"})]}),(0,m.jsxs)(U.U0,{variant:"subtitle1",component:"div",children:[null===c||void 0===c||null===(t=c.profile)||void 0===t?void 0:t.post_count," posts",(0,m.jsxs)(x.HX,{onClick:function(){return s("other","follower")},children:[null===c||void 0===c||null===(r=c.profile)||void 0===r?void 0:r.followers_count," followers"]}),(0,m.jsxs)(x.HX,{onClick:function(){return s("other","following")},children:[null===c||void 0===c||null===(l=c.profile)||void 0===l?void 0:l.following_count," following"]})]}),(0,m.jsx)(T,{data:c})]})]})})},E=i(2570),Q=i(2926),G=i(2537),X=i(5641),Y=i(4278),q=i(1932),J=i(5780),K=i(4012),$=i(9502),nn=(0,Y.Z)({indicator:{top:"0px",height:.5,backgroundColor:f.Py}}),en=function(n){var e=n.handleChange,i=nn();return(0,m.jsxs)($.Z,{classes:{indicator:i.indicator},onChange:e,"aria-label":"Profile page tabs",children:[(0,m.jsx)(X.y,{control:"icon",value:"post",label:"POST",setValue:e,icon:(0,m.jsx)(K.Z,{})}),(0,m.jsx)(X.y,{control:"icon",value:"save",label:"SAVED",setValue:e,icon:(0,m.jsx)(q.Z,{})}),(0,m.jsx)(X.y,{control:"icon",value:"tagged",label:"TAGGED",setValue:e,icon:(0,m.jsx)(J.Z,{})})]})},on=i(8022),tn=i(3400),rn=i(6120),ln=i(1086),an=function(n){var e,i,l,c=n.data,s=n.handleFollowModalClick,d=(0,r.s0)(),u=(0,t.useState)(!1),v=(0,o.Z)(u,2),h=v[0],f=v[1],g=function(){f(!h)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ln._,{open:h,handleModalClick:g}),(0,m.jsx)(p.FC,{sx:{width:"100%"},children:(0,m.jsxs)(a.ZP,{container:!0,rowSpacing:5,columnSpacing:{xs:1,sm:2,md:3},sx:{minWidth:275,backgroundColor:"transference",justifyContent:"center"},children:[(0,m.jsx)(j,{data:c,handleUpdatePictureModalClick:g}),(0,m.jsxs)(a.ZP,{item:!0,sx:{mt:"5px",width:"55ch"},children:[(0,m.jsxs)(U.U0,{variant:"h5",component:"div",children:[null===c||void 0===c?void 0:c.username,(0,m.jsx)(x.SR,{variant:"outlined",onClick:function(){return d("/accounts/edit")},children:"Edit profile"}),(0,m.jsx)(tn.Z,{"aria-label":"settings",onClick:function(){return console.log("Settings click")},children:(0,m.jsx)(rn.Z,{})})]}),(0,m.jsxs)(U.U0,{variant:"subtitle1",component:"div",children:[null===c||void 0===c||null===(e=c.profile)||void 0===e?void 0:e.post_count," posts",(0,m.jsxs)(x.HX,{onClick:function(){return s("user","follower")},children:[null===c||void 0===c||null===(i=c.profile)||void 0===i?void 0:i.followers_count," followers"]}),(0,m.jsxs)(x.HX,{onClick:function(){return s("user","following")},children:[null===c||void 0===c||null===(l=c.profile)||void 0===l?void 0:l.following_count," following"]})]}),(0,m.jsx)(T,{data:c})]})]})})]})},cn=function(){var n,e=(0,r.UO)().id,i=(0,l.sJ)(h.gy),x=(0,u.YD)(),g=x.ref,j=x.inView,b=(0,t.useState)(null),w=(0,o.Z)(b,2),y=w[0],Z=w[1],k=(0,t.useState)(!1),C=(0,o.Z)(k,2),V=C[0],S=C[1],M=(0,t.useState)(!1),F=(0,o.Z)(M,2),z=F[0],P=F[1],_=(0,t.useState)(null),R=(0,o.Z)(_,2),H=R[0],O=R[1],D=(0,t.useState)(null),I=(0,o.Z)(D,2),A=I[0],L=I[1],T=(0,t.useState)("post"),U=(0,o.Z)(T,2),W=U[0],B=U[1],X=function(n){var e=n.post;Z(null===e||void 0===e?void 0:e.id),S(!V)},Y=function(n,e){O("user"===n),z||L(e),P(!z)};(0,t.useEffect)((function(){j&&K()}),[j]);var q=(0,v.FR)((function(n,e){var i;return null!==(i=e[e.length-1].data.next)&&void 0!==i?i:void 0}),e),J=q.data,K=q.fetchNextPage,$=q.isLoading,nn=q.isFetching,tn=q.isFetchingNextPage,rn=q.hasNextPage,ln=(0,v.Gb)(e),cn=ln.isSuccess,sn=ln.data,dn=ln.isLoading,un=(0,v.jv)(e),vn=un.isSuccess,hn=un.isLoading,fn=un.data,pn=(un.refetch,(0,v.fw)(e)),xn=pn.isSuccess,gn=pn.isLoading,mn=pn.data;pn.refetch;return(0,m.jsxs)(m.Fragment,{children:[($||nn||dn)&&(0,m.jsx)(G.z,{}),(0,m.jsx)(on.P,{open:V,handleModalClick:X,post:y}),(0,m.jsx)(E.j,{open:z,handleModalClick:Y,data:"follower"===A?null===fn||void 0===fn?void 0:fn.data:null===mn||void 0===mn?void 0:mn.data,isSuccess:"follower"===A?vn:xn,isLoading:"follower"===A?hn:gn,followState:A,isUser:H}),(0,m.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"baseline",sx:{maxWidth:"125ch"},children:[(0,m.jsx)(a.ZP,{item:!0,sx:{display:"flex",height:"20ch",maxWidth:"125ch",mb:12,mx:"auto"},children:cn&&(null===sn||void 0===sn||null===(n=sn.data)||void 0===n?void 0:n.id)===i.profileId?(0,m.jsx)(an,{data:null===sn||void 0===sn?void 0:sn.data,handleFollowModalClick:Y}):(0,m.jsx)(N,{data:null===sn||void 0===sn?void 0:sn.data,handleFollowModalClick:Y})}),(0,m.jsx)(a.ZP,{item:!0,sx:{borderTop:"groove",borderColor:f.OH,borderBlockWidth:"1px",width:"100%"},children:(0,m.jsxs)(c.ZP,{value:W,children:[(0,m.jsx)(p.Sx,{sx:{"& .MuiTabs-flexContainer":{justifyContent:"space-around"}},children:(0,m.jsx)(en,{handleChange:function(n){B(n)}})}),(0,m.jsxs)(s.Z,{value:"post",children:[null===J||void 0===J?void 0:J.pages.map((function(n,e){var i;return(0,m.jsx)(t.Fragment,{children:(0,m.jsx)(Q.bj,{group:null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.results,handleModalClick:X})},e)})),(0,m.jsx)("div",{children:(0,m.jsx)(d.Z,{sx:{display:"none"},ref:g,onClick:function(){return K()},disabled:!rn||tn})})]}),(0,m.jsx)(s.Z,{value:"save",children:"saved items"}),(0,m.jsx)(s.Z,{value:"tagged",children:"tagged"})]})})]})]})}},5780:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 9c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6 10H6v-1.53c0-2.5 3.97-3.58 6-3.58s6 1.08 6 3.58V18zm-9.69-2h7.38c-.69-.56-2.38-1.12-3.69-1.12s-3.01.56-3.69 1.12z"}),"AccountBoxOutlined");e.Z=l},4012:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{fillRule:"evenodd",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridView");e.Z=l},6120:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"SettingsOutlined");e.Z=l},1932:function(n,e,i){var o=i(5318);e.Z=void 0;var t=o(i(5649)),r=i(184),l=(0,t.default)((0,r.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"}),"TurnedInNot");e.Z=l},8105:function(n,e,i){i.d(e,{YD:function(){return f}});var o=i(2791);function t(){return t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.apply(this,arguments)}function r(n,e){return r=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},r(n,e)}var l=new Map,a=new WeakMap,c=0,s=void 0;function d(n){return Object.keys(n).sort().filter((function(e){return void 0!==n[e]})).map((function(e){return e+"_"+("root"===e?(i=n.root)?(a.has(i)||(c+=1,a.set(i,c.toString())),a.get(i)):"0":n[e]);var i})).toString()}function u(n,e,i,o){if(void 0===i&&(i={}),void 0===o&&(o=s),"undefined"===typeof window.IntersectionObserver&&void 0!==o){var t=n.getBoundingClientRect();return e(o,{isIntersecting:o,target:n,intersectionRatio:"number"===typeof i.threshold?i.threshold:0,time:0,boundingClientRect:t,intersectionRect:t,rootBounds:t}),function(){}}var r=function(n){var e=d(n),i=l.get(e);if(!i){var o,t=new Map,r=new IntersectionObserver((function(e){e.forEach((function(e){var i,r=e.isIntersecting&&o.some((function(n){return e.intersectionRatio>=n}));n.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=r),null==(i=t.get(e.target))||i.forEach((function(n){n(r,e)}))}))}),n);o=r.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),i={id:e,observer:r,elements:t},l.set(e,i)}return i}(i),a=r.id,c=r.observer,u=r.elements,v=u.get(n)||[];return u.has(n)||u.set(n,v),v.push(e),c.observe(n),function(){v.splice(v.indexOf(e),1),0===v.length&&(u.delete(n),c.unobserve(n)),0===u.size&&(c.disconnect(),l.delete(a))}}var v=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function h(n){return"function"!==typeof n.children}o.Component;function f(n){var e=void 0===n?{}:n,i=e.threshold,t=e.delay,r=e.trackVisibility,l=e.rootMargin,a=e.root,c=e.triggerOnce,s=e.skip,d=e.initialInView,v=e.fallbackInView,h=e.onChange,f=o.useRef(),p=o.useRef(),x=o.useState({inView:!!d}),g=x[0],m=x[1];p.current=h;var j=o.useCallback((function(n){void 0!==f.current&&(f.current(),f.current=void 0),s||n&&(f.current=u(n,(function(n,e){m({inView:n,entry:e}),p.current&&p.current(n,e),e.isIntersecting&&c&&f.current&&(f.current(),f.current=void 0)}),{root:a,rootMargin:l,threshold:i,trackVisibility:r,delay:t},v))}),[Array.isArray(i)?i.toString():i,a,l,c,s,r,v,t]);o.useEffect((function(){f.current||!g.entry||c||s||m({inView:!!d})}));var b=[j,g.inView,g.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}}}]);
//# sourceMappingURL=798.b0a8b6b2.chunk.js.map